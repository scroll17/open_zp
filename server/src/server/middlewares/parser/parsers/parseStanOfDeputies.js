
const html = "\t<div class=\"tab-pane active\" id=\"divAbout\">\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"cms-content\">\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\" style=\"\">\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12 contnet-column\"\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"background-image:url(&#39;none&#39;);background-size:cover;background-repeat:no-repeat;background-repeat:center;\">\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='page-content content-text'>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Адаманов Олег Федорович</strong>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tнародився 18 червня 1970 року в місті\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tМаріуполь.&nbsp;</p>\n" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Громадянство:</strong> Україна.</p>\n" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Освіта:</strong> вища.<br />\n" +
    "З 1985 по 1989 рік навчався у Маріупольському механіко-металургійному технікумі, здобув спеціальність &laquo;Будівництво та експлуатація шляхового господарства залізничного транспорту&raquo; та отримав кваліфікацію техніка-шляховика, закінчив з відзнакою.<br />\n" +
    "З 1991 по 1996 рік навчався у Приазовському державному технічному університеті, здобув спеціальність&nbsp;&laquo;організація перевезень і управління на промисловому транспорті&raquo;, та було присвоєно кваліфікацію спеціаліста &laquo;інженер по організації і управлінню&raquo;, закінчів з відзнакою.<br />\n" +
    "З 2004 по 2007 рік навчався в Донецькому національному університеті, отримав другу вищу освіту за спеціальністю &laquo;Економічна кібернетика&raquo; та здобув кваліфікацію магістра з економічної кібернетики, закінчив з відзнакою.</p>\n" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Трудова діяльність:</strong></p>\n" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>З травня 1988 року по серпень 1988 року\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&mdash; працював монтером колії Жданівської\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tмашинної станції.<br />\n" +
    "З квітня 1989 року по травень 1989 року &mdash; монтер колії Управління залізничного транспорту металургійного комбінату &laquo;Азовсталь&raquo;.<br />\n" +
    "З травня 1989 по червень 1991 року &mdash; служба у Збройних силах.<br />\n" +
    "З 1996 року по листопад 1997 року &mdash; монтер колії комбінату &laquo;Азовсталь&raquo;.<br />\n" +
    "З листопада 1997 року по квітень 2001 року &mdash; дорожній майстер цеха поточного утримання і ремонту колії Управління залізничного транспорту комбінату &laquo;Азовсталь&raquo;.<br />\n" +
    "З квітня 2001 року по червень 2002 року &mdash; начальник дільниці по капітальному ремонту цеха поточного утримання і ремонту колії Управління залізничного транспорту комбінату &laquo;Азовсталь&raquo;.<br />\n" +
    "З червня 2002 року до березня 2008 року &mdash; заступник начальника цеха поточного утримання і ремонту колії Управління залізничного транспорту комбінату &laquo;Азовсталь&raquo;.<br />\n" +
    "З березня 2008 до травня 2011 року &mdash; заступник начальника по технології, ремонтам та технічного переоснащення Управління залізничного транспорту комбінату &laquo;Азовсталь&raquo;.<br />\n" +
    "З травня 2011 року по липень 2012 року &mdash; начальник Управління залізничного транспорту комбінату &laquo;Азовсталь&raquo;.<br />\n" +
    "З липня 2012 року до теперішнього часу &mdash; директор по транспорту та логістиці ПАТ &laquo;Запоріжсталь&raquo;.</p>\n" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Сімейний стан:</strong>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tОдружений. Виховує двох доньок.&nbsp;\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Партійність:</strong> член\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tПолітичної партії &laquo;Опозиційний\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tблок&raquo;.</p>\n" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Помічники:</strong></p>\n" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Горбачов Олександр Анатолійович</li>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Максак Володимир Васильович</li>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Холіна Інна Вікторівна</li>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Пеньков Юрій Євгенович</li>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Клець Світлана Ларіонівна</li>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>&nbsp;</p>\n" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><a\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref=\"/upload/editor/zv_tuvannya.docx\">Звіт\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tза 2016 рік</a></p>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t</div>"


const cheerio = require("cheerio");
const axios = require("axios");

module.exports = async (arrayLinks) => {

    const parser = async (link) => {

        const { data: html } = await axios.get(link);

        const $ = cheerio.load(html);

        const text = $('#divAbout div.content-text > p').slice(0, 6);


        const user = {};
        text.each((i, elem) => {

             const header = $(elem).children("strong").remove().text();
             const text = $(elem).text().replace(/\s+/g, " ");


             if(text !== ''){

                 let dataFromText;

                 if(header === 'Освіта:'){

                     const to = text.indexOf('.');
                     dataFromText = text.slice(0, to);

                 }else{

                     dataFromText = text;

                 }

                 user[header] = dataFromText;
                 console.log('dataFromText', dataFromText)

             }

        });


        return user

    };

    return await Promise.all(arrayLinks.map( link => parser(link) ))

};